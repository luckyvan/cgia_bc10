// ==================================================================
//
// WARNING : Do not edit this file by hand.  This file was created
// by ejbgen.  Edit the definition files and re-generate to make
// modifications.  Making modifications to this file directly will
// result in loss of work when the file is re-generated.
//
// ==================================================================
//
import junit.framework.*;
import <%= $package %>.*;

public class Tests extends TestCase {
  public Tests(String name){
    super(name);
  }

  public void test(){
<%
  $tables.values.each{ |table|
%>    <%= table.name %>SS l<%= table.name %>SS = null;
    try {
      l<%= table.name %>SS = SSFactory.create<%= table.name %>();
    } catch (Exception e) {
      fail("ERROR:  " + e.getMessage());
    }
    <%= table.name %>Value s<%= table.name %>Value = null;
    <%= table.name %>Value g<%= table.name %>Value = null;
<%
  }
%>
    // modify for multi-column primary key
    Integer pk = null;
<%
  $sampleRows.each{ |sampleRow|
%>
    s<%= sampleRow.table.name %>Value = 
        new <%= sampleRow.table.name %>Value();
<%
    sampleRow.columns.each{ |sampleColumn|
%>    s<%= sampleRow.table.name %>Value.set<%= sampleColumn.column.upfirstName %>(<%= sampleColumn.column.stringConverter %>("<%= sampleColumn.value %>"));
<%
    }
%>
    try {
      pk = l<%= sampleRow.table.name %>SS.add(s<%= sampleRow.table.name %>Value);
    } catch (Exception e) {
      fail("ERROR:  " + e.getMessage());
    }

    try {
      g<%= sampleRow.table.name %>Value = l<%= sampleRow.table.name %>SS.get<%= sampleRow.table.name %>Value(pk);
    } catch (Exception e) {
      fail("ERROR:  " + e.getMessage());
    }

<%
    sampleRow.columns.each{ |sampleColumn|
%>    assertEquals(g<%= sampleRow.table.name %>Value.get<%= sampleColumn.column.upfirstName %>(), s<%= sampleRow.table.name %>Value.get<%= sampleColumn.column.upfirstName %>());
<%
    }
  }
%>
  }

  public static Test suite(){
    TestSuite suite = new TestSuite("Tests");
    suite.addTestSuite(Tests.class);
    return suite;
  }
}

//
// ==================================================================
//
// WARNING : Do not edit this file by hand.  This file was created
// by ejbgen.  Edit the definition files and re-generate to make
// modifications.  Making modifications to this file directly will
// result in loss of work when the file is re-generated.
//
// ==================================================================
